# FPV-FAQ

## Betaflight

### Настройка PINIO
Почти любой контакт на контроллере можно переназначить, отвязав назначенный ресурс и привязав свой. Привязка PINIO (1-4) включает на вкладке Режимы
режимы USER1-4 к которым можно навешивать свичи и управлять чем-то…

Чтобы посмотреть в CLI выполнить:
```
get pinio_config
pinio_config = 129,1,1,1
```
По умолчанию PIN 1 включается как INVERTED и на нем в выключенном состоянии AUX 3 вольта, а во включенном 0 вольт.

129 это 1+128 маска инвертирования PINIO_CONFIG_OUT_INVERTED 128

Чтобы отключить инвертирование в CLI выполнить:
```
set pinio_config = 1,1,1,1
```

Все 4 порта как становятся нормальными

Подробнее по настройке PINIO:
https://rcpilots.pro/skromnaya-zametochka-pro-resource-i-pinio-pinio_box/


## Настройка переключателя камер от Vifly

Удалось заставить работать подключив пин управления (D/I) переключателя к выходу контроллера TX 6 и переназначив его через PINIO в режим USERMODE 1

Находим пин привязанный по умолчанию к TX 6
resource
```
**
resource SERIAL_TX 6 C06 <<<<< Запоминаем
**
```
Видим что SERIAL_TX 6 привязан к пину процессора C06. Освобождаем и присваиваем первому PINIO ножку С06
```
resource SERIAL_ТX 6 none
resource PINIO 1 C06
```

Далее включаем первый PINIO в инверсный режим
```
set pinio_config = 129,1,1,1
```
А первый PINIO_BOX в режим USERMODE1
```
set pin box = 40, -1, -1, -1
save
```

Далее в MODES вешаем на нужный AUX USERMODE 1


## Настройка SERVO

Для подключения ОДНОЙ сервы нужно:
PWM выход сервы подключить к пину S9 (между TEL и SBUS). Питание сервы к 5В и земле.
Включить Servo Tilt на вкладке конфигурация. Сохранить.
Отметить галочкой нужный AUX на вкладке Сервоприводы для первой сервы. Сохранить

Всё!

Больше сервоприводов можно подключить через маппинг ресурсов. Паять управление к LED и пинам моторов M5-M8

Чтобы понять куда подключаться в CLI выполнить:
```
# resource
=======================
...
resource MOTOR 5 B00 <- запоминаем
resource LED_STRIP 1 C09 <- запоминаем
...
=======================
```

Чтобы переназначить работу пинов на сервы в CLI выполнить:

```
resource LED_STRIP none
resource SERVO 2 C09
resource MOTOR 5 none
resource SERVO 3 B00
save
```

Отметить галочками AUX соответствующие нужным тумблерам на вкладке Сервоприводы.  Сохранить.

Всего получаем три сервы
SERVO 1
SERVO 2
SERVO 3

При этом управляться через SERVO TILT будут только первые две. Чтобы использовать больше нужно подключать CHANNEL FORWARDING


### OSD


### Настройка LED

Включить на вкладке конфигурация LED_STRIP
На вкладке LED лента (LED Strip) нажать кнопку "Режим назначения цепи" и отметить нужное количество мест. Нажать кнопку "Режим назначения цепи" еще раз.
Отметив нужное место выбрать Функция - Цвет и отметить ниже нужный цвет (белый)
Сохранить
На вкладке Режимы (Modes) выбрать LEDLOW включенным по умолчанию и отключенным при положении тумблера на себя. (так все светодиоды будут включаться по тумблеру)

В CLI выполнить:
```
led 0 1,15:SD:IAW:0
```

0 - номер светодиода начиная с 0
1,15 - координаты в координатной сетке Бета Флай (той что отображается на вкладке LED STRIP)
:SD - South Down - ориентация в пространстве
:IAW - функции
:0 значение (применяется для цвета)

Включить светодиод 0 на цвет 1 (настройка цветов ниже)
```
led 0 0,0::C:1
```

Выключить светодиод 0
```
led 0 0,0:::0
```

Посмотреть значения цветов в HSL
```
color
```

Установить 1 цвет в минимальную яркость белого
```
color 1 0,255,1
```

Установить 1 цвет в максимальную яркость белого
```
color 1 0,255,255
```



## INAV

